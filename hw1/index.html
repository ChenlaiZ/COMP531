<!DOCTYPE html>
<html lang="en-US">
<head>
	<title>Registartion Page</title>
	<meta charset="UTF-8">
	<meta name="keywords" content="HTML, JAVASCRIPT">
	<meta name="author" content="Chenlai Zhang">
</head>
<body onload="getTimestamp()">
	<h1>Customer Registration Form</h1>
	<form action="formProcessor.html" method="get"> 
  		<p>The <b>account name</b> can only be 6 to 10 digits of upper or lower case letters and numbers, but may not start with a number.</p>
  		<p>Account Name: <input type="text" name="AccountName" placeholder="your account name" pattern="^[a-zA-Z]\w{5,9}$" required></p>

  		<p>Display Name(optional): <input type="text" name="DisplayName" placeholder="your name" pattern="^[A-Za-z\s]+$"></p>

  		<p>Email: <input type="email" name="Email" pattern="\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*" required></p>

  		<p>Phone Number: <input type="text" name="Phone" pattern="\d{3}-\d{3}-\d{4}" placeholder="xxx-xxx-xxxx" required></p>

  		<p>Date of Birth: <input type="date" id="id1" name="DateofBirth" format="mm/dd/yyyy" required></p>   	

  		<p>Zipcode: <input type="text" name="Zipcode" pattern="\d{5}" placeholder="xxxxx" required></p>

  		<p>The <b>password</b> can only be 6 to 18 digits of upper or lower case letters and numbers, but may not start with a number.</p>
  		<p>Password: <input type="password" id="password1" name="Password" pattern="^[a-zA-Z]\w{5,17}$" required></p>
  		
		<p>Password Confirmation: <input type="password" id="password2" name="PasswordConfirmation" pattern="^[a-zA-Z]\w{5,17}$" required></p>

		<p><input type="hidden" name="Timestamp" id="timestamp"></p>

		<p>
    		<input type="submit" name="Submit" value="Submit" onclick="return checkValidation()">
    		<input type="reset" value="Clear">
		</p>
	</form>
	<script type="text/javascript">
		function getTimestamp(){
			document.getElementById("timestamp").value = new Date();
		}

		function checkValidation(){
			var preDate = new Date();
			var birthDate = new Date(document.getElementById("id1").value);
			var y_18 = 18*365*24*60*60*1000;
			var pass1 = document.getElementById("password1");
        	var pass2 = document.getElementById("password2");
        	if (pass1.value != pass2.value){
             	alert("The passwords you enter do not match!");
            	return false;       		
        	}else if(preDate-birthDate<y_18){
				alert("Only individuals 18 years of age or older on the day of registration are allowed to register!");
				return false;
			} 
			else return true;
		}
	</script>
</body>
</html>